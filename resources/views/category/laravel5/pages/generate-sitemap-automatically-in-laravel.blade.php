@extends('layouts.master')

@section('title')
    Laravel 5.8 | Generate Sitemap | Learn with Self
@endsection

@section('content')
    <div class="container-fluid">
        <div class="row">
            @include('category.laravel5.partials.Sideber')
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-8 border-left border-right">


                        <div class="main-heading">
                            <h1>Automatically Generate Sitemap in Laravel</h1>
                        </div>

                        <div class="description py-3">
                            <h3><b>How to Automatically Generate Sitemap with Laravel?</b></h3><div>As we want to integrate the url or links into our sitemap.xml file, so <b>Laravel </b>provide us a package called <b>Spatie Sitemap Package</b>. So, Now We are going to install the Spatie-Laravel-Sitemap Package to generate all the link automatically.</div><div><br></div><div><b>Step 1:</b> First, install the package via composer by following commad:</div><div><br></div><div><div class="alert funda-bg" style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div>$ composer&nbsp;<span style="color: #c586c0;">require</span>&nbsp;spatie/laravel-sitemap </div><div><br></div><div>$ composer&nbsp;<span style="color: rgb(197, 134, 192);">require</span>&nbsp;spatie/laravel-sitemap "5.8"</div></div></div><div><br></div><div><b>Step 2:</b> Configuration:&nbsp;You can override the default options for the crawler. and then&nbsp;publish the configuration by using the following command :</div><div><span style="font-size: 1rem;"><br></span></div><div><div class="alert funda-bg" style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div>$ php&nbsp;artisan&nbsp;vendor:publish&nbsp;--provider=<span style="color: #ce9178;">"Spatie\Sitemap\SitemapServiceProvider"</span>&nbsp;--tag=config</div></div></div><div><span style="font-size: 1rem;"><br></span></div><div><span style="font-size: 1rem;"><b>Step 3:</b>&nbsp;Thye above command line&nbsp;</span>will copy the config to <b><i>config/sitemap.php</i></b> where you would be able to change it depending on your needs.</div><div><h3 style="margin-top: 24px; margin-bottom: 16px; font-size: 1.25em; font-weight: 600; line-height: 1.25; color: rgb(36, 41, 46); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;;"><b style="color: rgb(33, 37, 41); font-family: Roboto, sans-serif; font-size: 1rem;">Step 4:</b><span style="font-weight: 400; color: rgb(33, 37, 41); font-family: Roboto, sans-serif; font-size: 1rem;">&nbsp;To generate a sitemap for your website with all of the found links, you can use the following:</span></h3></div><div><div class="alert funda-bg" style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div><span style="color: #4ec9b0;">SitemapGenerator</span>::<span style="color: #dcdcaa;">create</span>(<span style="color: #dcdcaa;">config</span>(<span style="color: #ce9178;">'app.url'</span>))-&gt;<span style="color: #dcdcaa;">writeToFile</span>(<span style="color: #dcdcaa;">public_path</span>(<span style="color: #ce9178;">'path/sitemap.xml'</span>));</div></div></div><div><span style="font-size: 1rem;">To use this above statement and where to paste this statement, follow with the below steps.</span></div><div><span style="font-size: 1rem;"><br></span></div><div><span style="font-size: 1rem;"><b>Step 5:</b>&nbsp;</span>To automate the process, you have to <b>create an artisan command </b>by the following:&nbsp;</div><div><br></div><div><div class="alert funda-bg" style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div>$ php&nbsp;artisan&nbsp;make:command&nbsp;GenerateSitemap</div></div></div><div><span style="font-size: 1rem;">after running the above artisan command a file has been generated in <b>app/Console/Commands/GenerateSitemap.php</b> file. and the lets update the inside content as I have done below :</span></div><div><div class="alert funda-bg" style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div><span style="color: #569cd6;">&lt;?php</span></div><br><div><span style="color: #569cd6;">namespace</span> <span style="color: #4ec9b0;">App\Console\Commands</span>;</div><br><div><span style="color: #569cd6;">use</span> Illuminate\Console\<span style="color: #4ec9b0;">Command</span>;</div><div><span style="color: #569cd6;">use</span> Spatie\Sitemap\<span style="color: #4ec9b0;">SitemapGenerator</span>;</div><br><div><span style="color: #569cd6;">class</span> <span style="color: #4ec9b0;">GenerateSitemap</span> <span style="color: #569cd6;">extends</span> <span style="color: #4ec9b0;">Command</span></div><div>{</div><div>&nbsp; &nbsp; <span style="color: #6a9955;">/**</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;* The name and signature of the console command.</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;*</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;* </span><span style="color: #569cd6;">@var</span><span style="color: #6a9955;"> </span><span style="color: #569cd6;">string</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;*/</span></div><div>&nbsp; &nbsp; <span style="color: #569cd6;">protected</span> <span style="color: #9cdcfe;">$signature</span> = <span style="color: #ce9178;">'sitemap:generate'</span>;</div><br><div>&nbsp; &nbsp; <span style="color: #6a9955;">/**</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;* The console command description.</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;*</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;* </span><span style="color: #569cd6;">@var</span><span style="color: #6a9955;"> </span><span style="color: #569cd6;">string</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;*/</span></div><div>&nbsp; &nbsp; <span style="color: #569cd6;">protected</span> <span style="color: #9cdcfe;">$description</span> = <span style="color: #ce9178;">'Generate the sitemap.'</span>;</div><br><div>&nbsp; &nbsp; <span style="color: #6a9955;">/**</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;* Create a new command instance.</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;*</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;* </span><span style="color: #569cd6;">@return</span><span style="color: #6a9955;"> </span><span style="color: #569cd6;">void</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;*/</span></div><div>&nbsp; &nbsp; <span style="color: #569cd6;">public</span> <span style="color: #569cd6;">function</span> <span style="color: #dcdcaa;">__construct</span>()</div><div>&nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">parent</span>::<span style="color: #dcdcaa;">__construct</span>();</div><div>&nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; <span style="color: #6a9955;">/**</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;* Execute the console command.</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;*</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;* </span><span style="color: #569cd6;">@return</span><span style="color: #6a9955;"> </span><span style="color: #569cd6;">mixed</span></div><div><span style="color: #6a9955;">&nbsp; &nbsp; &nbsp;*/</span></div><div>&nbsp; &nbsp; <span style="color: #569cd6;">public</span> <span style="color: #569cd6;">function</span> <span style="color: #dcdcaa;">handle</span>()</div><div>&nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #4ec9b0;">SitemapGenerator</span>::<span style="color: #dcdcaa;">create</span>(<span style="color: #dcdcaa;">config</span>(<span style="color: #ce9178;">'app.url'</span>))-&gt;<span style="color: #dcdcaa;">writeToFile</span>(<span style="color: #dcdcaa;">public_path</span>(<span style="color: #ce9178;">'path/sitemap.xml'</span>));</div><div>&nbsp; &nbsp; }</div><div>}</div></div></div><div><span style="font-size: 1rem;"><br></span></div><div><b style="font-family: var(--bs-font-sans-serif); font-size: 1rem;">Step 6:</b><span style="font-family: var(--bs-font-sans-serif); font-size: 1rem;">&nbsp;Now we have successfully setup for generating the Sitemap code and let's run the artisan command by following:</span><br></div><div><br></div><div><div class="alert funda-bg" style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div>$ php&nbsp;artisan&nbsp;sitemap:generate</div></div></div><div>After running the artisan command successfully, you the able to your all your url or links in your sitemap.xml file where you assigned the path.</div><div><br></div><div class="alert alert-warning">Note: If you want to run this on server eg: gogaddy or namecheap server, Goto your filemanager and start your teminal and check composer is installed. and the run the above artisan command to generate the sitemap.xml and its url orelse paste the below command to update automatically. <font color="#000000"><b>(If You want right now to check the Url in sitemap.xml file - follow Step 8)</b></font></div><div><br></div><div><b>Step 7:</b>&nbsp;If you want to update or add the url on Daily basis, paste the below command in the following path app/Console/Kernel.php file::</div><div><div class="alert funda-bg" style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div><span style="color: #569cd6;">protected</span>&nbsp;<span style="color: #569cd6;">function</span>&nbsp;<span style="color: #dcdcaa;">schedule</span>(<span style="color: #569cd6;">Schedule</span>&nbsp;<span style="color: #9cdcfe;">$schedule</span>)</div><div>{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;...</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #9cdcfe;">$schedule</span>-&gt;<span style="color: #dcdcaa;">command</span>(<span style="color: #ce9178;">'sitemap:generate'</span>)-&gt;<span style="color: #dcdcaa;">daily</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;...</div><div>}</div></div></div><div><br></div><div><b>Step 8:</b>&nbsp;If you want to <b>RIGHT NOW</b> to check and <b>execute </b>the output on your server and check the Links are generated or not in the <b>sitemap.xml </b>file, then you can use <b>Artisan Console </b>Command by following.</div><div><br></div><div><div class="alert funda-bg" style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div><span style="color: #4ec9b0;">Route</span>::<span style="color: #dcdcaa;">get</span>(<span style="color: #ce9178;">'/generate-sitemap'</span>,&nbsp;<span style="color: #569cd6;">function</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #9cdcfe;">$exitCode</span>&nbsp;=&nbsp;<span style="color: #4ec9b0;">Artisan</span>::<span style="color: #dcdcaa;">call</span>(<span style="color: #ce9178;">'sitemap:generate'</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #c586c0;">return</span>&nbsp;<span style="color: #ce9178;">'Sitemap&nbsp;Created&nbsp;Successfully'</span>;&nbsp;<span style="color: #6a9955;">//Return&nbsp;anything</span></div><div>});</div><br></div></div><div>&nbsp;</div><div><b>Step 9:</b> Finally, you can see your sitemap in your given path: eg: domainname.com/yourpath/sitemap.xml</div><div><br></div><div><br></div>
                        </div>
                        <div class="col-md-12 mt-3">
                            <div class="row">
                                <div class="col-md-6 col-6 text-start">
                                    <a href="{{ url('/laravel-5-8/ban-and-unban-user-for-login-in-laravel') }}" class="bg-blue px-5 btn text-white" ><i class="fa fa-arrow-left me-2"></i> Prev </a>
                                </div>
                                <div class="col-md-6 col-6 text-end">
                                    <a href="{{ url('/laravel-5-8/create-database-seeder-in-laravel') }}" class="bg-blue px-5 btn text-white" >Next <i class="fa fa-arrow-right ms-2"></i></a>
                                </div>
                            </div>
                        </div>

                    </div>
                    @include('category.laravel5.partials.latestPost')
                </div>
            </div>
        </div>
    </div>
@endsection
